This code was vendored from https://github.com/charmbracelet/bubbletea 
as of git commit c4c83ba757f891a8fbe513790b0176f9f26fc85b.
